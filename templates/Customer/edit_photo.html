{% extends "partials/edit_template.html" %}
{% block title %} Edit Profile  {% endblock %}

{% block content %}
{% from "partials/_formHelper.html" import render_field %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
<style>
form{
text-align:left;
padding-left:2%;
padding-right:2%;
margin-bottom:5%;
margin-left:20%;
margin-right:40%;}

</style>
<h2 style="margin-left:20%;"> Profile </h2>
<hr>
<br>
<p style="margin-left:20%;">Changes to your Profile Picture will be reflected across your Singtopia Account.</p>

<form action="" method="post">
    <p style="font-weight:bold;"> Update Profile Picture</p>
    <div class="row">
        <div class="col">
            {{ render_field(form.image, class="form-control", id='inp') }}
        </div>
        {{ render_field(form.base, style="display:none;", id='image') }}
    </div>
<br>

<img id="img" height="150">
       <div class="row">
             <div class="col">
         <p id="create"><a href="/personal">Cancel</a></p>
             </div>
             <div class="col">
         <input type="submit" value="Save" id="login" class="btn btn-primary"/>
             </div>
     </div>
</form>

<script>
   function readFile() {

  if (this.files && this.files[0]) {

    var FR= new FileReader();

    FR.addEventListener("load", function(e) {
      document.getElementById("img").src       = e.target.result;

      document.getElementById("image").value = e.target.result;
    });

    FR.readAsDataURL( this.files[0] );
  }

}

document.getElementById("inp").addEventListener("change", readFile);
</script>
{% endblock %}
